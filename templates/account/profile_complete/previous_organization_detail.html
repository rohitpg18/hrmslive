{% extends 'basic_form.html' %}
{% load static %}

{% block style %}
<style>

.hide_display{
    display:none;
}
    
</style>
{% endblock %}


{% block userForm %}


<form class="details" action="{% url 'previous_organization_details' %}" method="post" enctype="multipart/form-data">{% csrf_token %}

    <div class="heading">
        <h3 class="user-profile-update-title">Previous Organisation Details</h3>
    </div>

    

    <div class="info">
        <p class="info-title ">previous organisation name</p>
        <input type="text" class="form-control" id="previous_organisation" name="previous_organisation" placeholder="Enter Organisation Name"
            required>
    </div>

    

    <div class="info info-full">
        <p class="info-title">Designation</p>
        <input type="text" class="form-control" id="previous_organisation_designation" name="previous_organisation_designation" placeholder="Enter designation in previous organisation"
            required>
    </div>


    <div class="info info-full">
        <p class="info-title">experience in years</p>
        <input type="number" class="form-control" id="experience_in_years" name="experience_in_years" placeholder="Enter experience in years"
            required>
    </div>

    <div class="info info-full ">
        <p class="info-title">Documents</p>
        <input type="file" class="form-control" id="previous_organization_docs" name="previous_organization_docs" >
    </div>

    <div class="check-box permissions check-box-info" id="is_diploma_complete">
        <input type="checkbox" class="check-box-square" id="if_second_company_check" name="if_second_company_check" value="True" onchange="manageOrganisationDetails()">
        <label class="check-box-label" for="if_second_company_check">Add details of one more company</label>
    </div>






    <div class="info info-full organisation_detail">
        <p class="info-title">Previous Organisation name</p>
        <input type="text" class="form-control organisation_input" id="previous_organisation2" name="previous_organisation2"
            placeholder="Enter Organisation Name" >
    </div>

    <div class="info organisation_detail">
        <p class="info-title">designation</p>
        <input type="text" class="form-control organisation_input" id="previous_organisation_designation2" name="previous_organisation_designation2"
            placeholder="Enter designation in previous organisation" >
    </div>

    <div class="info organisation_detail">
        <p class="info-title">experience in years</p>
        <input type="number" class="form-control organisation_input" id="experience_in_years2" name="experience_in_years2"
            placeholder="Enter experience in years" >
    </div>

    <div class="info info-full organisation_detail">
        <p class="info-title">Documents</p>
        <input type="file" class="form-control organisation_input" id="previous_organization_docs" name="previous_organization_docs" >
    </div>

    <!-- disabled -->
    <div class="btns">
        <button type="submit" class="next-btn2">Submit</button>

    </div>

</form>


{% endblock %}


{% block js %}
<script>
    console.log("hello")

    window.onload= manageOrganisationDetails();

    function manageOrganisationDetails() {

        var if_second_company_check = document.getElementById("if_second_company_check").checked;
        


        var organisation_detail = document.querySelectorAll('.organisation_detail');
        var organisation_input = document.querySelectorAll('.organisation_input');

        if (if_second_company_check) {
            console.log('hiii')
            console.log(organisation_detail)

            for (var i = 0; i < organisation_detail.length; i++) {
                organisation_detail[i].classList.remove('hide_display');
            }

            for (var i = 0; i < organisation_input.length; i++) {
                organisation_input[i].required = true;
            }

        }else{
            console.log('bye')
            for (var i = 0; i < organisation_detail.length; i++) {
                organisation_detail[i].classList.add('hide_display');
            }
            for (var i = 0; i < organisation_input.length; i++) {
                organisation_input[i].required = false;
            }
        }
    }

</script>

{% endblock %}

