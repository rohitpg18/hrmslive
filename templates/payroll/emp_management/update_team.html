{% extends 'hr_profile_basic.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block tag %}
<link href="{%static 'css/self-details.css'%}" rel="stylesheet">
<link href="{%static 'css/form.css'%}" rel="stylesheet">
{% endblock %}

<title>{% block title %} HRMS : Update Team {% endblock %}</title>

{% block style %}

<style>
    .profile-navigations .profile-navigation-links .link1 {
        color: #fff;
        background-color: #387EF9;
        transition: all 0.5s ease-out;
    }

    .profile-navigations .profile-navigation-links .link1 svg {
        fill: #fff;
        transition: all 0.5s ease-out;
    }
    .details{
        margin-top: 0;
        padding-top: 2rem;
    } 

    .details .permissions {
        width: 100%;
        padding: 1.5rem;
    }

    .details .permissions p {
        color: #387EF9;
        font-weight: 500;
        margin-bottom: 1em;
        text-transform: uppercase;
    }

    .details .permissions .check-box-info {
        border-bottom: 1px solid #ddd;
        padding-bottom: 1rem;
    }

    .details .permissions .check-box {
        max-width: 22rem;
        overflow: hidden;
    }

    .check-box-square {
        width: 1.3rem;
        height: 1.3rem;
        transform: translateY(25%);
        margin-right: 1rem;
    }

    .check-box-label:hover {
        cursor: pointer;
    }

    .info-full {
        max-width: 100%;
        padding: 0 1rem;

    }
</style>

{% endblock %}

{% block profile %}



<section class="user-info">
    <form class="details"  action="{% url 'update_team' team.id %}"method="POST">{% csrf_token %}

    <div class="heading">
        <h3 class="user-profile-update-title">Create Team</h3>
    </div>

    <div class="mb-3">
        <label for="team_name" class="form-label">Team Name</label>
        <input type="text" class="form-control" id="team_name" name="team_name" value="{{team.team_name}}">
    </div>

    <div class="mb-3">
        <label for="tl_name" class="form-label">Team Leader</label>
        <select class="form-select" id="tl_name" name="tl_name" value="{{team.tl_name}}" required>
          {% for tl in team_leaders %}
          <option value = "{{tl.id}}"> {{tl.emp_user.username}}  -  {{tl.emp_user.get_full_name}}  -  {{tl.designation}}</option>
          {% endfor %}
        </select>
      </div>


      <div class="mb-3">
        <label for="team_members" class="form-label">Team Members</label>
        <ul>
        {% for tm in team_members %}

        {% if tm in seleted_team_members %}
        
        <li><input type='checkbox' name={{tm.username}} value={{tm.id}} checked >{{tm.username}}-{{tm.first_name}}{{tm.last_name}}</li>

        {%else %}
        <li><input type='checkbox' name={{tm.username}} value={{tm.id}} >{{tm.username}}-{{tm.first_name}}{{tm.last_name}}</li>
        {% endif %}
        {% endfor %}
        </ul>
      </div>

        

    
        
    <div class="btns">
        <button type="submit" class="next-btn2">Update Team</button>
    </div>
    
    </form>
</section>


{% endblock %}

{% block js %}
<script>
    document.getElementById('dashboard').classList.add('link1');
</script>
{% endblock %}